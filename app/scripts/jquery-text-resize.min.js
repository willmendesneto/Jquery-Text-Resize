
!function($){"use strict";var Cookies={get:function(sKey){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(sKey,sValue,vEnd,sPath,sDomain,bSecure){if(!sKey||/^(?:expires|max\-age|path|domain|secure)$/i.test(sKey))return!1;var sExpires="";if(vEnd)switch(vEnd.constructor){case Number:sExpires=1/0===vEnd?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+vEnd;break;case String:sExpires="; expires="+vEnd;break;case Date:sExpires="; expires="+vEnd.toUTCString()}return document.cookie=encodeURIComponent(sKey)+"="+encodeURIComponent(sValue)+sExpires+(sDomain?"; domain="+sDomain:"")+(sPath?"; path="+sPath:"")+(bSecure?"; secure":""),!0},remove:function(sKey,sPath,sDomain){return sKey&&this.hasItem(sKey)?(document.cookie=encodeURIComponent(sKey)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(sDomain?"; domain="+sDomain:"")+(sPath?"; path="+sPath:""),!0):!1},hasItem:function(sKey){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var aKeys=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),aKeysLength=aKeys.length,nIdx=0;aKeysLength>nIdx;nIdx++)aKeys[nIdx]=decodeURIComponent(aKeys[nIdx]);return aKeys}};$.textResize=function(selector,settings){var configSelector="html, body";selector&&(configSelector=selector);var config={variation:2,animation:!1,delay:1e3,reduceText:"A-",resetText:"A",enlargeText:"A+",classReduce:"reduceText",classReset:"resetText",classEnlarge:"enlargeText",clicks:!1,containerInsert:!1,optionInterface:"link",cookie:!0,fontType:"px",imageAnimation:!1};settings&&$.extend(config,settings);var $obj=$(configSelector),$img=$obj.find("img"),fontDefault=$obj.css("font-size"),currentSize=parseInt($obj.css("font-size"),10),userClicksReduce=0,userClicksEnlarge=0,percent=100,fontEnlarge="",fontReduce="",cookieClicks="";config.classReduce="."+config.classReduce,config.classEnlarge="."+config.classEnlarge,config.classReset="."+config.classReset,$img.css({"max-width":"100%",height:"auto","vertical-align":"middle","-ms-interpolation-mode":"bicubic"});var imgDefault=$img.width(),currentImageSize=imgDefault;config.imageAnimation!==!1&&$img.removeAttr("width").width(imgDefault),config.cookie!==!1&&"null"!==config.cookie&&null!==config.cookie&&(cookieClicks=Cookies.get(config.cookie),currentSize=isNaN(cookieClicks)||null===cookieClicks?parseInt(fontDefault,10):parseInt(cookieClicks,10),fontDefault=parseInt(fontDefault,10),null!==currentSize&&currentSize>fontDefault&&(userClicksEnlarge=(currentSize-fontDefault)/config.variation,currentImageSize=imgDefault*percent/100+(parseInt(imgDefault/100,10)+userClicksEnlarge)+config.fontType,$img.css("width",parseInt(currentImageSize,10))),null!==currentSize&&fontDefault>currentSize&&(userClicksReduce=(fontDefault-currentSize)/config.variation,currentImageSize=imgDefault*percent/100-(parseInt(imgDefault/100,10)+userClicksReduce)+config.fontType,$img.css("width",parseInt(currentImageSize,10))),$obj.css("font-size",cookieClicks+config.fontType));var $containerInsert=$(config.containerInsert);if(config.containerInsert!==!1){var htmlContent="";"link"===config.optionInterface?htmlContent='<a href="#" class="'+config.classReduce.replace(".","")+'" title="reduce text">'+config.reduceText+'</a><a href="#" class="'+config.classReset.replace(".","")+'" title="reset text">'+config.resetText+'</a><a href="#" class="'+config.classEnlarge.replace(".","")+'" title="enlarge text">'+config.enlargeText+"</a>":"button"===config.optionInterface&&(htmlContent='<input type="button" value="'+config.reduceText+'" class="'+config.classReduce.replace(".","")+'" /><input type="button" value="'+config.resetText+'" class="'+config.classReset.replace(".","")+'" /><input type="button" value="'+config.enlargeText+'" class="'+config.classEnlarge.replace(".","")+'" />'),$containerInsert.html(htmlContent)}else $containerInsert=$obj;return $containerInsert.on("click",config.classReduce,function(){config.clicks>userClicksReduce&&(percent-=config.variation,fontReduce=currentSize-config.variation,config.animation===!0?($obj.animate({"font-size":fontReduce+config.fontType},config.delay),config.imageAnimation!==!1&&$img.animate({width:parseInt(imgDefault*percent/100,10)},config.delay)):($obj.css("font-size",fontReduce),$img.css("width",parseInt(imgDefault*percent/100,10))),++userClicksReduce,userClicksEnlarge>0&&--userClicksEnlarge,currentSize=fontReduce,config.cookie!==!1&&(cookieClicks=Cookies.get(config.cookie),cookieClicks=currentSize,Cookies.set(config.cookie,cookieClicks)))}),$containerInsert.on("click",config.classEnlarge,function(){config.clicks>userClicksEnlarge&&(percent+=config.variation,fontEnlarge=currentSize+config.variation,config.animation===!0?($obj.animate({"font-size":fontEnlarge+config.fontType},config.delay),config.imageAnimation!==!1&&$img.animate({width:parseInt(imgDefault*percent/100,10)},config.delay)):($obj.css("font-size",fontEnlarge),$img.css("width",parseInt(imgDefault*percent/100,10))),++userClicksEnlarge,userClicksReduce>0&&--userClicksReduce,currentSize=fontEnlarge,config.cookie!==!1&&(cookieClicks=Cookies.get(config.cookie),cookieClicks=currentSize,Cookies.set(config.cookie,currentSize)))}),$containerInsert.on("click",config.classReset,function(){config.animation===!0?($obj.animate({"font-size":fontDefault},config.delay),config.imageAnimation!==!1&&$img.animate({width:imgDefault},config.delay)):($obj.css("font-size",fontDefault),$img.css("width",parseInt(imgDefault,10))),userClicksReduce=userClicksEnlarge=0,currentSize=parseInt(fontDefault,10),config.cookie!==!1&&(cookieClicks="null",Cookies.set(config.cookie,cookieClicks))}),this}}(window.jQuery||window.Zepto);
